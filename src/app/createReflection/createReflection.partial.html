
<div>
    <md-toolbar>
        <h1 class="md-toolbar-tools">
            {{vm.generateHeader()}}
        </h1>
    </md-toolbar>
    <md-content class="md-padding">
        Effective date: <md-datepicker ng-model="vm.effectiveDate"></md-datepicker>

        <form name="vm.weeklyReflectionForm" ng-submit="vm.save()" novalidate>
            <md-input-container class="md-block">
                <label for="firstThingThatWentWell">First thing that went well</label>
                <input ng-model="vm.firstThingThatWentWell" id="firstThingThatWentWell" name="firstThingThatWentWell" type="text" required>
                <div ng-messages="vm.weeklyReflectionForm.firstThingThatWentWell.$error" ng-if="vm.weeklyReflectionForm.firstThingThatWentWell.$error.required && vm.weeklyReflectionForm.$submitted">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <md-input-container class="md-block">
                <label for="secondThingThatWentWell">Second thing that went well</label>
                <input ng-model="vm.secondThingThatWentWell" id="secondThingThatWentWell" name="secondThingThatWentWell" type="text" required>
                <div ng-messages="vm.weeklyReflectionForm.secondThingThatWentWell.$error" ng-if="vm.weeklyReflectionForm.secondThingThatWentWell.$error.required && vm.weeklyReflectionForm.$submitted">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <md-input-container class="md-block">
                <label for="thirdThingThatWentWell">Third thing that went well</label>
                <input ng-model="vm.thirdThingThatWentWell" id="thirdThingThatWentWell" name="thirdThingThatWentWell" type="text" required>
                <div ng-messages="vm.weeklyReflectionForm.thirdThingThatWentWell.$error" ng-if="vm.weeklyReflectionForm.thirdThingThatWentWell.$error.required && vm.weeklyReflectionForm.$submitted">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <md-input-container class="md-block">
                <label for="firstThingToImprove">First thing to improve</label>
                <input ng-model="vm.firstThingToImprove" id="firstThingToImprove" name="firstThingToImprove" type="text" required>
                <div ng-messages="vm.weeklyReflectionForm.firstThingToImprove.$error" ng-if="vm.weeklyReflectionForm.firstThingToImprove.$error.required && vm.weeklyReflectionForm.$submitted">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <md-input-container class="md-block">
                <label for="secondThingToImprove">Second thing to improve</label>
                <input ng-model="vm.secondThingToImprove" id="secondThingToImprove" name="secondThingToImprove" type="text" required>
                <div ng-messages="vm.weeklyReflectionForm.secondThingToImprove.$error" ng-if="vm.weeklyReflectionForm.secondThingToImprove.$error.required && vm.weeklyReflectionForm.$submitted">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <md-input-container class="md-block">
                <label for="thirdThingToImprove">Third thing to improve</label>
                <input ng-model="vm.thirdThingToImprove" id="thirdThingToImprove" name="thirdThingToImprove" type="text" required>
                <div ng-messages="vm.weeklyReflectionForm.thirdThingToImprove.$error" ng-if="vm.weeklyReflectionForm.thirdThingToImprove.$error.required && vm.weeklyReflectionForm.$submitted">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <div>
                <md-button type="submit" class="md-raised md-accent">Save</md-button>
            </div>

        </form>
    </md-content>
</div>

<div class="md-whiteframe-1dp" cg-busy="vm.getRelatedEntriesPromise">
    <md-toolbar>
        <h1 class="md-toolbar-tools">
            Related
        </h1>
    </md-toolbar>
    <md-content>
        <md-card ng-repeat="relatedEntry in vm.relatedEntries">
            <overview-entry entry-obj="relatedEntry"></overview-entry>
        </md-card>
    </md-content>
</div>
